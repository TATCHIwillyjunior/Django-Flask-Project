// game/templates/game/preview.html
{% extends "game/base.html" %}

{% block title %}Preview Story{% endblock %}

{% block content %}
    <div class="preview-notice">
        <strong>Preview Mode:</strong> This is a draft story. Progress will not be saved.
    </div>

    <div class="page-display">
        <div class="page-text">
            <p>{{ page.text }}</p>
        </div>

        {% if page.is_ending %}
            <div class="alert alert-success">
                <strong>Ending:</strong> {{ page.ending_label }}
            </div>
            <a href="{% url 'story_list' %}" class="btn">Back to Story List</a>
        {% else %}
            <h2>Choices:</h2>
            <div class="choices-list">
                {% for choice in page.choices %}
                    <a href="{% url 'preview_page' story_id=story_id page_id=choice.next_page_id %}"
                       class="choice-btn">
                        {{ choice.text }}
                    </a>
                {% endfor %}
            </div>
        {% endif %}
    </div>
{% endblock %}
